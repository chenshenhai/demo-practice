<html>
  <head>
    <script type="importmap">
      {
        "imports": {
          "tpl": "./lib/tpl.js"
        }
      }
    </script>
  </head>
  <body>
    <div id="app"></div>
  </body>

  <script type="module">
  import Template from 'tpl';
  const tpl = new Template();
  const view = `
  <div>

    {{ $if (isShow === true) }}
      <div >
        <div>{{ str }}</div>
      </div>
    {{ $end }}

    <ul>
      {{ $for(let i = 0; i < list.length; i++) }}
        <li> {{ i }}: {{ list[i] }}</li>
      {{ $end }}
    </ul>

    <div>
      {{ $for(let i = 0; i < listChild.length; i++) }}
        <ul>
          <li> list[{{ i }}] = {{ listChild[i].name }}</li>
          <li>
            <ul>
            {{ $for(let j = 0; j < listChild[i].children.length; j++) }}
              <li> {{i}}-{{j}}:  {{ listChild[i].children[j].name }}</li>
            {{ $end }}
            </ul>
          </li>
        </ul>
      {{ $end }}
    </div>

  </div>
  `
  const data = {
    list: [ 'item-001', 'item-002', 'item-003', 'item-004'],
    listChild: [
      {
        name: "item-1",
        children: [
          {
            name: "child-1-1",
          },
          {
            name: "child-1-2",
          }
        ]
      },
      {
        name: "item-2",
        children: [
          {
            name: "child-2-1",
          },
          {
            name: "child-2-2",
          },
          {
            name: "child-3-2",
          }
        ]
      }
    ],
    isShow: true,
    str: 'Hello World',
  }
  tpl.load(view);
  tpl.render(document.querySelector('#app'), data)
  </script>
</html>